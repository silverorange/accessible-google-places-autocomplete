module.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t){e.exports=require("react")},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var s in t=arguments[o])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(s,r){function i(e){try{u(n.next(e))}catch(e){r(e)}}function a(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){e.done?s(e.value):new o(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,s,r,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){i.label=r[1];break}if(6===r[0]&&i.label<s[1]){i.label=s[1],s=r;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(r);break}s[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],n=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),u=o(2),c=o(3),l=o(5),p=o(6),d=function(e){function t(t){var o=e.call(this,t)||this;return o.onAutoCompleteSelect=function(e){return r(o,void 0,void 0,function(){var t,o,n,s,r,a,u,c,l,p,d,g,f;return i(this,function(i){switch(i.label){case 0:if(t=this.props,o=t.useMoreAccuratePostalCode,n=void 0!==o&&o,s=t.onError,r=void 0===s?function(){return null}:s,a=t.onConfirm,u=void 0===a?function(){return null}:a,c=this.formattedPredictionsMap[e],void 0===(l=this.predictions.find(function(e){return e.place_id===c})))return[3,6];i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.getPlaceDetails(l)];case 2:return p=i.sent(),this.hasPartialPostalCode(p.address_components)&&n?[4,this.getReverseGeocodeData(p)]:[3,4];case 3:d=i.sent(),p.address_components=p.address_components.filter(function(e){return!e.types.includes("postal_code")}),p.address_components=p.address_components.concat(d.address_components.filter(function(e){return e.types.includes("postal_code")})),i.label=4;case 4:return["fl","rm"].includes(this.unitDesignator)&&""!==this.unitNumber?(g={fl:"floor",rm:"room"},p.address_components.push({long_name:this.unitNumber,short_name:this.unitNumber,types:[g[this.unitDesignator]]})):(""!==this.unitNumber&&p.address_components.push({long_name:this.unitNumber,short_name:this.unitNumber,types:["unit_number"]}),""!==this.unitDesignator&&p.address_components.push({long_name:this.unitDesignator,short_name:this.unitDesignator,types:["unit_designator"]})),this.hasPlaceSelected=!0,this.placesSessionToken=new google.maps.places.AutocompleteSessionToken,u(p),[3,6];case 5:return f=i.sent(),r(f),[3,6];case 6:return[2]}})})},o.state={apiLoaded:!1},o.formattedPredictionsMap={},o.predictions=[],o.unitDesignator="",o.unitNumber="",o.currentStatusMessage="",o.onApiLoad=o.onApiLoad.bind(o),o.onApiUnload=o.onApiUnload.bind(o),o.getSuggestions=o.getSuggestions.bind(o),o.getNoResultsMessage=o.getNoResultsMessage.bind(o),o.getStatusResultsMessage=o.getStatusResultsMessage.bind(o),o.getStatusSelectedOptionMessage=o.getStatusSelectedOptionMessage.bind(o),o.getStatusNoResultsMessage=o.getStatusNoResultsMessage.bind(o),o}return n(t,e),t.prototype.onApiLoad=function(){this.setState(function(){return{apiLoaded:!0}}),this.autocompleteService=new google.maps.places.AutocompleteService,this.geocoderService=new google.maps.Geocoder,this.placesService=new google.maps.places.PlacesService(document.createElement("div")),this.placesSessionToken=new google.maps.places.AutocompleteSessionToken},t.prototype.onApiUnload=function(){this.setState(function(){return{apiLoaded:!1}}),delete this.geocoderService,delete this.autocompleteService,delete this.placesService,delete this.placesSessionToken},t.prototype.getNoResultsMessage=function(){var e=this.props.t;return(void 0===e?c.translate:e)("addressAutoComplete.noResults")},t.prototype.getStatusSelectedOptionMessage=function(e){var t=this.props.t;return(void 0===t?c.translate:t)("addressAutoComplete.statusSelectedOption",{option:e})},t.prototype.getStatusNoResultsMessage=function(){var e=this.props.t,t=(void 0===e?c.translate:e)("addressAutoComplete.statusNoResults");return this.currentStatusMessage===t?"":(this.currentStatusMessage=t,t)},t.prototype.getStatusResultsMessage=function(e,t){var o=this.props.t,n=void 0===o?c.translate:o;if(t)return"";var s=n("addressAutoComplete.statusResults",{smart_count:e});return this.currentStatusMessage===s?"":(this.currentStatusMessage=s,s)},t.prototype.getSuggestions=function(e,t){var o=this,n=this.props,r=n.googlePlacesOptions,i=void 0===r?{}:r,a=n.minLength,u=void 0===a?4:a,c=n.onClear,p=void 0===c?function(){return null}:c,d=n.unitDesignators,g=l.parseUnitNumber(e,d),f=g.civicAddress,h=g.unitDesignator,v=g.unitNumber;if(f.length<u)t([]);else{var m=s({},i,{input:f,sessionToken:this.placesSessionToken});this.autocompleteService&&this.autocompleteService.getPlacePredictions(m,function(e,n){if(n===google.maps.places.PlacesServiceStatus.OK){o.predictions=e,o.unitNumber=v,o.unitDesignator=h,o.formattedPredictionsMap=e.reduce(function(e,t){var n,r=o.formatPrediction(t.description,h,v);return s({},e,((n={})[r]=t.place_id,n))},{});var r=Object.keys(o.formattedPredictionsMap);t(r)}else t([])}),this.hasPlaceSelected&&(this.hasPlaceSelected=!1,p())}},t.prototype.componentDidUpdate=function(e){this.props.language!==e.language&&this.setState(function(){return{apiLoaded:!1}})},t.prototype.render=function(){var e=this.props,t=e.autoselect,o=void 0!==t&&t,n=e.googlePlacesApiKey,s=e.id,r=e.language,i=e.minLength,c=void 0===i?4:i,l=e.required,d=void 0!==l&&l,g=this.state.apiLoaded;return a.createElement("div",{"aria-live":"polite",style:{visibility:g?"visible":"hidden"}},a.createElement(p.GoogleMapsApiLoader,{googlePlacesApiKey:n,language:r,onLoad:this.onApiLoad,onUnload:this.onApiUnload}),a.createElement(u.default,{autoselect:o,id:s,source:this.getSuggestions,minLength:c,required:d,displayMenu:"overlay",tNoResults:this.getNoResultsMessage,tStatusSelectedOption:this.getStatusSelectedOptionMessage,tStatusNoResults:this.getStatusNoResultsMessage,tStatusResults:this.getStatusResultsMessage,onConfirm:this.onAutoCompleteSelect}))},t.prototype.formatPrediction=function(e,t,o){if(""!==t){var n=t+" "+o;return e.replace(/,/," "+n+",")}return""!==o?o+"-"+e:e},t.prototype.hasPartialPostalCode=function(e){return void 0!==e.find(function(e){return e.types.includes("postal_code_prefix")})},t.prototype.getPlaceDetails=function(e){var t=this;return void 0===this.placesService?Promise.reject("Google places service is not available."):new Promise(function(o,n){t.placesService.getDetails({placeId:e.place_id,sessionToken:t.placesSessionToken},function(e,t){t===google.maps.places.PlacesServiceStatus.OK?o(e):n(t)})})},t.prototype.getReverseGeocodeData=function(e){var t=this;return void 0===this.geocoderService?Promise.reject("Google geocoding service is not available."):new Promise(function(o,n){t.geocoderService.geocode({location:e.geometry.location},function(t,s){if(s===google.maps.GeocoderStatus.OK){var r=t.find(function(t){return["street_number","route","locality"].map(function(o){return e.address_components[o]===t.address_components[o]}).reduce(function(e,t){return e&&t},!0)});o(void 0===r?t[0]:r)}else n(s)})})},t}(a.Component);t.AccessibleGooglePlacesAutocomplete=d,t.DEFAULT_UNIT_DESIGNATORS=l.DEFAULT_DESIGNATORS},function(e,t){e.exports=require("accessible-autocomplete/react")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(4);t.translate=function(e,t){var o=n({addressAutoComplete:{noResults:"Address not found",statusNoResults:"No matching addresses",statusResults:"%{smart_count} matching address is available |||| %{smart_count} matching addresses are available",statusSelectedOption:"You’ve selected %{option}"}},e);return t?o?(void 0!==t.smart_count&&(o=o.split("||||")[1===t.smart_count?0:1].trim()),o.replace(/%\{(.*?)\}/g,function(e,o){return void 0===t[o]?e:"string"==typeof t[o]?t[o].replace(/\$/g,"$$"):t[o]})):e:o}},function(e,t){e.exports=require("get-value")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DESIGNATORS={"#":"",apartment:"apt",building:"bldg",department:"dept",floor:"fl",hanger:"hngr",key:"key",lot:"lot",pier:"pier",room:"rm",slip:"slip",space:"spc",stop:"stop",suite:"ste",trailer:"trlr",unit:"unit"};var n="[a-z¼½¾]|(?:1/4|1/2|3/4)",s=n+"|\\d+(?:[\\s-]?[a-z¼½¾]|\\s?(?:1/4|1/2|3/4))?";function r(e){return e.replace(/-/g," ").replace(/\s+([a-z])/gi,"$1").replace(/¼/g," 1/4").replace(/½/g," 1/2").replace(/¾/g," 3/4").replace(/^\s+/g,"").toLocaleUpperCase()}function i(e,t){var o=t.replace(/\./,"").toLocaleLowerCase();return void 0!==e[o]?e[o]:o}t.parseUnitNumber=function(e,o){void 0===o&&(o=t.DEFAULT_DESIGNATORS);var a=function(e){return Object.keys(e).reduce(function(t,o){var n=e[o];return""!==n&&n!==o?t.concat([o,n+"\\.?"]):t.concat([o])},[]).join("|")}(o),u=new RegExp("^[\\s#]*("+s+")[\\s-–\\/]+([0-9]+\\s.*)\\s*$","i").exec(e);if(null!==u){var c=r(u[1]);return{civicAddress:u[2],unitDesignator:"",unitNumber:c}}var l=new RegExp("^\\s*(\\d+)[\\s-–\\/]*("+n+")\\s(\\D.*)?\\s*$","i").exec(e);if(null!==l)return c=r(l[2]),{civicAddress:l[1]+" "+l[3],unitDesignator:"",unitNumber:c};var p=new RegExp("^\\s*(\\d+)\\s+("+a+")\\s*("+s+")([\\s,].*)$","i").exec(e);if(null!==p){var d=i(o,p[2]);return c=r(p[3]),{civicAddress:p[1].replace(/[\s,]*$/,"")+" "+p[4].replace(/^[\s,]*/,""),unitDesignator:d,unitNumber:c}}var g=new RegExp("^\\s*(\\d+.+)\\s("+a+")\\s*("+s+")([\\s,].*|$)$","i").exec(e);if(null!==g){d=i(o,g[2]),c=r(g[3]);var f=g[1].replace(/[\s,]*$/,""),h=g[4].replace(/^[\s,]*/,"");return{civicAddress:h?f+", "+h:f,unitDesignator:d,unitNumber:c}}var v=new RegExp("^\\s*("+a+")\\s*("+s+")[-\\s,]+(.*)$","i").exec(e);if(null!==v)return d=i(o,v[1]),c=r(v[2]),{civicAddress:v[3].replace(/^\s*/,""),unitDesignator:d,unitNumber:c};return{civicAddress:e,unitDesignator:"",unitNumber:""}}},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=o(0),r=o(7),i=function(e){function t(t){var o=e.call(this,t)||this;return o.state={apiLoaded:!1},o.onApiLoad=o.onApiLoad.bind(o),o}return n(t,e),t.prototype.onApiLoad=function(){var e=this.props.onLoad;this.setState(function(){return{apiLoaded:!0}}),e&&e()},t.prototype.componentDidUpdate=function(e){var t=this.props,o=t.language,n=t.onUnload;if(o!==e.language){var s=document.getElementById("google-maps-script");if(s instanceof HTMLElement&&s.parentNode){var i=this.getScriptUrl();s.parentNode.removeChild(s),delete google.maps,delete r.loadedScripts[i],delete r.erroredScripts[i],delete r.scriptObservers[i],this.setState(function(){return{apiLoaded:!1}}),n&&n()}}},t.prototype.render=function(){var e=this.state.apiLoaded,t=this.getScriptUrl();return s.createElement(s.Fragment,null,!e&&s.createElement(r,{url:t,onLoad:this.onApiLoad,attributes:{id:"google-maps-script"}}))},t.prototype.getScriptUrl=function(){var e=this.props.googlePlacesApiKey,t=encodeURIComponent(e);return this.props.language?"https://maps.googleapis.com/maps/api/js?key="+t+"&libraries=places&language="+this.props.language:"https://maps.googleapis.com/maps/api/js?key="+t+"&libraries=places"},t}(s.Component);t.GoogleMapsApiLoader=i},function(e,t){e.exports=require("react-load-script")}]);
//# sourceMappingURL=AccessibleGooglePlacesAutocomplete.es5.js.map